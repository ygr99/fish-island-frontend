<p align="right">
   <strong>ä¸­æ–‡</strong> | <a href="./README.en.md">English</a>
</p>




<p align="center">
  <a href="https://github.com/lhccong/fish-island-backend"><img src="./public/img/moyu.png" width="300" height="250" alt="æ‘¸é±¼å²› logo"></a>
</p>




# æ‘¸é±¼å²›

_âœ¨ å¼€æºğŸŒŸä¸€ç«™å¼æ‘¸é±¼ç½‘ âœ¨_

<p align="center">
  <a href="https://github.com/lhccong/fish-island-backend#éƒ¨ç½²">éƒ¨ç½²æ•™ç¨‹</a>
  Â·
  <a href="https://github.com/lhccong/fish-island-backend#ç›®å‰ç°çŠ¶">ç›®å‰ç°çŠ¶</a>
  Â·
  <a href="https://fish.codebug.icu/rank/about">æ„è§åé¦ˆ</a>
  Â·
  <a href="https://github.com/lhccong/fish-island-backend#æˆªå›¾å±•ç¤º">æˆªå›¾å±•ç¤º</a>
  Â·
  <a href="https://fish.codebug.icu/index/">åœ¨çº¿æ¼”ç¤º</a>
  Â·
  <a href="https://github.com/lhccong/fish-island-backend#å¼€æºä¸è´¡çŒ®">å¼€æºä¸è´¡çŒ®</a>
  Â·
  <a href="https://github.com/lhccong/fish-island-backend#ç›¸å…³é¡¹ç›®">ç›¸å…³é¡¹ç›®</a>
  Â·
  <a href="https://fish.codebug.icu/rank/reward">èµèµæ”¯æŒ</a>
</p>

![image-20250426195022714](/public/img/image-20250426195022714.png)

> [!NOTE]
> æœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼Œä½¿ç”¨è€…å¿…é¡»åœ¨ç½‘ç«™æ ‡æ³¨ä½œè€…åç§°ä»¥åŠæŒ‡å‘æœ¬é¡¹ç›®çš„é“¾æ¥ã€‚å¦‚æœä¸æƒ³ä¿ç•™ç½²åï¼Œå¿…é¡»é¦–å…ˆè·å¾—æˆæƒã€‚ä¸å¾—ç”¨äºéæ³•ç”¨é€”ã€‚

> [!NOTE]
>
> åœ¨çº¿ä½“éªŒåœ°å€ğŸ”—
>
> æœ€æ–°ç‰ˆï¼ˆåŸŸå 2025.09 è¿‡æœŸï¼‰ï¼šhttps://fish.codebug.icu/
> ç¨³å®šç‰ˆï¼šhttps://yucoder.cn/
>
> åç«¯åœ°å€ğŸŒˆï¼šhttps://github.com/lhccong/fish-island-backend
>
> å‰ç«¯åœ°å€ğŸ–ï¸ï¼šhttps://github.com/lhccong/fish-island-frontend

> [!WARNING]
> ç§éƒ¨ç½²æ—¶è®°å¾—ä¿®æ”¹åç«¯æ¥å£åœ°å€è·¯å¾„æŒ‡å‘ã€‚

## åŠŸèƒ½

1. æ”¯æŒå¤šç§æ•°æ®æºèšåˆï¼š
  + [âœ…] çŸ¥ä¹çƒ­æ¦œ
  + [âœ…] å¾®åšçƒ­æ¦œ
  + [âœ…] è™æ‰‘æ­¥è¡Œè¡—çƒ­æ¦œ
  + [âœ…] ç¼–ç¨‹å¯¼èˆªçƒ­æ¦œ
  + [âœ…] CSDN çƒ­æ¦œ
  + [âœ…] æ˜é‡‘çƒ­æ¦œ
  + [âœ…] B ç«™çƒ­é—¨
  + [âœ…] æŠ–éŸ³çƒ­æœ
  + [âœ…] ç½‘æ˜“äº‘çƒ­æ­Œæ¦œï¼ˆæ”¯æŒç½‘ç«™ç‚¹å‡»æ’­æ”¾ï¼‰
  + [âœ…] ä»€ä¹ˆå€¼å¾—ä¹°çƒ­æ¦œ
  + [âœ…] å¾…è¡¥å……...
2. æ¯æ—¥å¾…åŠåŠŸèƒ½ã€‚
3. æ‘¸é±¼èŠå¤©å®¤ï¼š
  + [âœ…] å‘é€ emoji è¡¨æƒ…åŒ…
  + [âœ…] å‘é€æœç‹—åœ¨çº¿è¡¨æƒ…åŒ…
  + [âœ…] æ”¯æŒç½‘ç«™é“¾æ¥è§£æ
  + [âœ…] æ”¯æŒ markdown æ–‡æœ¬è§£æ
  + [âœ…] æ”¯æŒ AI åŠ©æ‰‹å›ç­”ï¼ˆæ¥å…¥ç¡…åŸºæµåŠ¨æ¨¡å‹ï¼‰
  + [âœ…] å¤´åƒæ¡†åŠŸèƒ½
  + [âœ…] ç”¨æˆ·åœ°ç†ä½ç½®æ˜¾ç¤ºåŠŸèƒ½
  + [âœ…] ç”¨æˆ·ç§°å·åŠŸèƒ½
  + [âœ…] äº”å­æ£‹ã€è±¡æ£‹å¯¹æˆ˜é‚€è¯·åŠŸèƒ½
  + [âœ…] ç§¯åˆ†çº¢åŒ…ğŸ§§å‘é€åŠŸèƒ½
  + [âœ…] æ”¯æŒç”¨æˆ· CV å‘é€å›¾ç‰‡åŠŸèƒ½
4. æ‘¸é±¼é˜…è¯»ï¼š
  + [âœ…] åœ¨çº¿æœä¹¦åŠŸèƒ½
  + [âœ…] å°çª—å£è§‚çœ‹åŠŸèƒ½
  + [âœ…] æ”¯æŒè‡ªå®šä¹‰ä¹¦æº
5. å°æ¸¸æˆï¼š
  + [âœ…] äº”å­æ£‹ï¼ˆäººæœº/åœ¨çº¿å¯¹æˆ˜ï¼‰
  + [âœ…] è±¡æ£‹ï¼ˆäººæœº/åœ¨çº¿å¯¹æˆ˜ï¼‰
  + [âœ…] 2048
6. å·¥å…·ç®±ï¼š
  + [âœ…] JSON æ ¼å¼åŒ–
  + [âœ…] æ–‡æœ¬æ¯”å¯¹
  + [âœ…] èšåˆç¿»è¯‘
  + [âœ…] Git æäº¤æ ¼å¼ç”Ÿæˆ
  + [âœ…] AI æ™ºèƒ½ä½“
  + [âœ…] AI å‘¨æŠ¥åŠ©æ‰‹
7. å¤´åƒæ¡†å…‘æ¢åŠŸèƒ½ã€‚
8. å…¶ä»–ï¼š
  + [âœ…] éŸ³ä¹æ’­æ”¾å™¨
  + [âœ…] ä¸‹ç­è–ªèµ„è®¡ç®—å™¨ï¼ˆæ”¾å‡å€’è®¡æ—¶ï¼‰
  + [âœ…] ä¿®æ”¹ç½‘ç«™å›¾æ ‡
  + [âœ…] ç½‘ç«™æ ‡é¢˜é—ªçƒæ¶ˆæ¯æé†’
  + [âœ…] æ‘¸é±¼åˆå§‹é¡µ

## æˆªå›¾å±•ç¤º

### ä¿¡æ¯èšåˆ

<img src="/public/img/image-20250426170535140.png" alt="image-20250426170535140" style="zoom:33%;" />

### æ¯æ—¥å¾…åŠ

<img src="/public/img/image-20250426170619142.png" alt="image-20250426170619142" style="zoom: 33%;" />

### æ‘¸é±¼å®¤

<img src="/public/img/image-20250426171114575.png" alt="image-20250426171114575" style="zoom:33%;" />

### æ‘¸é±¼é˜…è¯»

<img src="/public/img/image-20250426170827125.png" alt="image-20250426170827125" style="zoom:33%;" />

<img src="/public/img/image-20250426170856799.png" alt="image-20250426170856799" style="zoom: 50%;" />

### å°æ¸¸æˆ

- äº”å­æ£‹

<img src="/public/img/image-20250426171345531.png" alt="image-20250426171345531" style="zoom:33%;" />

- è±¡æ£‹

<img src="/public/img/image-20250426171248993.png" alt="image-20250426171248993" style="zoom:33%;" />

- 2048

<img src="/public/img/image-20250426171310675.png" alt="image-20250426171310675" style="zoom: 50%;" />

### å·¥å…·ç®±

- JSON æ ¼å¼åŒ–å·¥å…·

<img src="/public/img/image-20250426171413448.png" alt="image-20250426171413448" style="zoom:25%;" />

- æ–‡æœ¬æ¯”å¯¹

<img src="/public/img/image-20250426171435468.png" alt="image-20250426171435468" style="zoom:25%;" />

### å¤´åƒæ¡†å…‘æ¢

<img src="/public/img/image-20250426171832381.png" alt="image-20250426171832381" style="zoom: 33%;" />

## ç›®å‰ç°çŠ¶

- å„å¤§å…¬ä¼—å·è½¬å‘ã€‚

  <img src="/public/img/image-wchat.png" alt="wchat" style="zoom: 50%;" />



- ç”¨æˆ·çªç ´ 1k çš„ä¸ªäººç½‘ç«™ã€‚

- æœ€é«˜å³°å®æ—¶åœ¨çº¿äººæ•°è¾¾ 80 +ã€‚

  <img src="/public/img/image-20250426165418718.png" alt="image-20250426165418718" width="20%" style="zoom:25%;" >

## éƒ¨ç½²æ•™ç¨‹

### åç«¯

- æ‰§è¡Œåˆå§‹åŒ– SQL  [create_table.sql](./sql/create_table.sql)

- æ›´æ”¹ MySQL åœ°å€ã€Redis åœ°å€ã€Minio åœ°å€ã€é‚®ç®±å‘é€é…ç½®

- Maven æ‰“åŒ…

- docker éƒ¨ç½²

- dockerfile æ–‡ä»¶

  ```dockerfile
  FROM openjdk:8
  ENV workdir=/cong/fish
  COPY . ${workdir}
  WORKDIR ${workdir}
  EXPOSE 8123
  CMD ["java","-jar","-Duser.timezone=GMT+08","fish-island-backend-0.0.1-SNAPSHOT.jar"]
  ```

- æ‰“åŒ…å‘½ä»¤

  ```shell
  docker build -f ./dockerfile -t fish .
  
  å¯åŠ¨å‘½ä»¤ï¼šdocker run -d -e TZ=CST -p 8123:8123 -p 8090:8090 --name "fish" fish:latest
  ```

- nginx é…ç½®

  ```nginx
  server {
      listen       80;
      listen  [::]:80;
      server_name  moyuapi.codebug.icu;
  
      rewrite ^(.*) https://$server_name$1 permanent;
  }
  
  server {
      listen       443 ssl;
      server_name  moyuapi.codebug.icu;
  
      ssl_certificate      /etc/nginx/ssl/cert.pem;
      ssl_certificate_key  /etc/nginx/ssl/key.pem;
      ssl_session_cache    shared:SSL:1m;
      ssl_session_timeout  5m;
  
      ssl_ciphers  HIGH:!aNULL:!MD5;
      ssl_prefer_server_ciphers  on;
  
      location / {
           root /usr/share/nginx/fish;
           index index.html;
  					try_files $uri $uri/ /index.html;
      }
  
  
     location /fish/ {
           proxy_pass http://fish:8123/;    
      }
  
  # WebSocketä»£ç†é…ç½®ï¼Œå¤„ç† wss:// è¯·æ±‚
      location /ws/ {
          proxy_pass http://fish:8090/;  # åç«¯ WebSocket æœåŠ¡åœ°å€
          proxy_http_version 1.1;  # ä½¿ç”¨ HTTP/1.1 åè®®ï¼ŒWebSocket éœ€è¦è¿™ä¸ªç‰ˆæœ¬
          proxy_set_header Upgrade $http_upgrade;  # å¿…é¡»è®¾ç½®è¿™äº›å¤´æ¥æ”¯æŒ WebSocket åè®®çš„å‡çº§
          proxy_set_header Connection 'upgrade';  # ç»´æŒ WebSocket è¿æ¥
          proxy_set_header Host $host;  # ç¡®ä¿ Host å¤´éƒ¨ä¼ é€’æ­£ç¡®
          proxy_cache_bypass $http_upgrade;  # ç¦ç”¨ç¼“å­˜
      }
  
  location /sogou-api/ {
          proxy_pass https://pic.sogou.com/;
          proxy_set_header Host pic.sogou.com;
          proxy_set_header X-Real-IP $remote_addr;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          proxy_ssl_server_name on;
  
          # è§£å†³ CORS é—®é¢˜
          add_header Access-Control-Allow-Origin *;
          add_header Access-Control-Allow-Methods "GET, POST, OPTIONS";
          add_header Access-Control-Allow-Headers "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range";
          add_header Access-Control-Expose-Headers "Content-Length,Content-Range";
  
          # å¤„ç† OPTIONS é¢„æ£€è¯·æ±‚
          if ($request_method = OPTIONS) {
              return 204;
          }
      }
  
  location /holiday/ {
      proxy_pass https://date.appworlds.cn/;
      
      # ä¿æŒç›®æ ‡ API çš„ Hostï¼Œé¿å…è¿”å›é»˜è®¤ç½‘é¡µ
      proxy_set_header Host date.appworlds.cn;
  
      # ä¼ªè£…æˆæµè§ˆå™¨ï¼Œé˜²æ­¢æœåŠ¡å™¨æ ¹æ® User-Agent è¿”å› HTML
      proxy_set_header User-Agent "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36";
  
      # å¼ºåˆ¶æœåŠ¡å™¨è¿”å› JSONï¼Œè€Œä¸æ˜¯ HTML
      proxy_set_header Accept "application/json";
  
      # CORS å…è®¸è·¨åŸŸ
      add_header Access-Control-Allow-Origin *;
      add_header Access-Control-Allow-Methods "GET, POST, OPTIONS";
      add_header Access-Control-Allow-Headers "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range";
      add_header Access-Control-Expose-Headers "Content-Length,Content-Range";
  
      # å¤„ç† OPTIONS é¢„æ£€è¯·æ±‚
      if ($request_method = OPTIONS) {
          return 204;
      }
  }
  
  
  location /img-api/ {
          proxy_pass https://i.111666.best/;
          proxy_set_header Host pic.sogou.com;
          proxy_set_header X-Real-IP $remote_addr;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          proxy_ssl_server_name on;
  
          # è§£å†³ CORS é—®é¢˜
          add_header Access-Control-Allow-Origin *;
          add_header Access-Control-Allow-Methods "GET, POST, OPTIONS";
          add_header Access-Control-Allow-Headers "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range";
          add_header Access-Control-Expose-Headers "Content-Length,Content-Range";
  
          # å¤„ç† OPTIONS é¢„æ£€è¯·æ±‚
          if ($request_method = OPTIONS) {
              return 204;
          }
      }
  
      error_page   500 502 503 504  /50x.html;
      location = /50x.html {
          root   /usr/share/nginx/html;
      }
  }
  ```

### å‰ç«¯

- ä¿®æ”¹ src/constants/index.ts çš„æ¥å£åœ°å€ã€‚
- max build  --æ‰“åŒ…å‘½ä»¤ã€‚
- éƒ¨ç½² dist æ–‡ä»¶ã€‚

## å¼€æºä¸è´¡çŒ®

### é¡¹ç›®æ”¯æŒè€… ğŸ”¥

<img src="/public/img/image-20250426171939913.png" alt="image-20250426171939913" style="zoom: 33%;" />

### å‰ç«¯è´¡çŒ®è€… ğŸŒŸ

<a href="https://github.com/lhccong/fish-island-frontend/graphs/contributors">
<img src="https://contrib.rocks/image?repo=lhccong/fish-island-frontend" />
</a>

### åç«¯è´¡çŒ®è€… ğŸŒŸ:

<a href="https://github.com/lhccong/fish-island-backend/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=lhccong/fish-island-backend" />
</a>  

### ğŸ“Œ è´¡çŒ®æ–¹å¼

å¦‚æœä½ ä¹Ÿæœ‰å¸Œæœ›èšåˆçš„æ•°æ®æºä¸å¦¨æ¥å‚åŠ ä¸€ä¸‹è´¡çŒ®ï¼Œå°†ä½ çš„æ•°æ®æºçˆ¬å–å‡ºæ¥æ”¾å…¥å…¶ä¸­ã€‚

1ï¸âƒ£ é¡µé¢å…ƒç´ æŠ“å–

ğŸ“Œ **é€‚ç”¨äº**ï¼šç›®æ ‡ç½‘ç«™æœªæä¾› APIï¼Œæ•°æ®åµŒå…¥åœ¨ HTML ç»“æ„ä¸­ã€‚

âœ… è´¡çŒ®è¦æ±‚

- **æ¨èä½¿ç”¨**ï¼š
  - `Jsoup`ï¼ˆJavaï¼‰
  - `BeautifulSoup`ï¼ˆPythonï¼‰
  - `Cheerio`ï¼ˆNode.jsï¼‰
- **é€‰æ‹©å™¨ç²¾å‡†**ï¼šé¿å…å› é¡µé¢ç»“æ„å˜åŒ–å¯¼è‡´æŠ“å–å¤±è´¥ã€‚
- **å‡å°‘ HTTP è¯·æ±‚**ï¼šä¼˜åŒ–æŠ“å–æ•ˆç‡ï¼Œé¿å…é‡å¤è¯·æ±‚ã€‚
- **éµå®ˆç½‘ç«™çˆ¬å–è§„åˆ™**ï¼ˆ`robots.txt` ï¼‰ã€‚

ğŸ’¡ ç¤ºä¾‹ä»£ç 

```java
Document doc = Jsoup.connect("https://example.com").get();
String title = doc.select("h1.article-title").text();
```

2ï¸âƒ£ é¡µé¢æ¥å£è¿”å›æ•°æ®æŠ“å–

ğŸ“Œ **é€‚ç”¨äº**ï¼šç›®æ ‡ç½‘ç«™æä¾› APIï¼Œå¯ç›´æ¥è°ƒç”¨æ¥å£è·å– JSON/XML æ•°æ®ã€‚

âœ… è´¡çŒ®è¦æ±‚

- **æ¨èä½¿ç”¨**ï¼š
  - `HttpClient`ï¼ˆJavaï¼‰
  - `axios`ï¼ˆNode.jsï¼‰
  - `requests`ï¼ˆPythonï¼‰
- **åˆ†æ API è¯·æ±‚**ï¼šç¡®ä¿è¯·æ±‚å‚æ•°å®Œæ•´ï¼ˆ`headers`ã€`cookies`ã€`token`ï¼‰ã€‚
- **å‡å°‘ä¸å¿…è¦çš„è¯·æ±‚**ï¼šä¼˜åŒ–è°ƒç”¨é¢‘ç‡ï¼Œé¿å…è§¦å‘åçˆ¬æœºåˆ¶ã€‚
- **å¼‚å¸¸å¤„ç†**ï¼šç¡®ä¿ä»£ç ç¨³å®šè¿è¡Œã€‚

ğŸ’¡ ç¤ºä¾‹ä»£ç 

```java
String apiUrl = "https://api.example.com/data";
String response = HttpRequest.get(apiUrl).execute().body();
JSONObject json = JSON.parseObject(response);
```

---

### ğŸ”— æ•°æ®æºæ³¨å†Œ

æ•°æ®æŠ“å–å®Œæˆåï¼Œéœ€è¦æ³¨å†Œæ•°æ®æºï¼Œä»¥ä¾¿ç³»ç»Ÿèƒ½å¤Ÿæ­£ç¡®ä½¿ç”¨ã€‚

ğŸš€ æ³¨å†Œæµç¨‹

1. **æ·»åŠ æ•°æ®æº Key**ï¼š
   `/src/main/java/com/cong/fishisland/model/enums/HotDataKeyEnum.java` å®šä¹‰æ–°çš„æ•°æ®æº Keyã€‚

2. **æ›´æ–°æ•°æ®æºæ˜ å°„**ï¼š

  -  `/src/main/java/com/lhccong/fish/backend/config/DatabaseConfig.java` æ–‡ä»¶ä¸­ï¼Œæ·»åŠ æ–°çš„æ•°æ®æºé…ç½®ã€‚

3. **åˆ›å»ºæ•°æ®æºç±»**ï¼š

  -  `src/main/java/com/cong/fishisland/datasource` ç›®å½•ä¸‹ï¼Œæ–°å»ºæ•°æ®æºç±»ï¼Œç»§æ‰¿ `DataSource`ï¼Œå®ç° `getHotPost` æ–¹æ³•ã€‚

4. **å®ç°æ•°æ®è·å–é€»è¾‘**ï¼š

  - æŒ‰ç…§ `HotPostDataVO` æ ¼å¼è¿”å›æ•°æ®ã€‚
  - ä½¿ç”¨ `@Builder` æ³¨è§£ï¼Œç¡®ä¿æ•°æ®èƒ½æ­£ç¡®è§£æã€‚

ğŸ’¡ ç¤ºä¾‹ä»£ç 

```java
HotPostDataVO.builder()
            .title(title)
            .url(url)
            .followerCount(followerCount)
            .excerpt(excerpt)
            .build();
```

---

### ğŸš€ è´¡çŒ®æµç¨‹

1. **Fork ä»“åº“** âœ ç‚¹å‡» GitHub å³ä¸Šè§’ `Fork` æŒ‰é’®ã€‚
2. **åˆ›å»ºåˆ†æ”¯** âœ æ¨èä½¿ç”¨æœ‰æ„ä¹‰çš„åˆ†æ”¯åï¼Œå¦‚ `feature/data-scraper-optimization`ã€‚
3. **æäº¤ä»£ç ** âœ ç¡®ä¿ä»£ç å¯è¯»æ€§é«˜ï¼Œç¬¦åˆè§„èŒƒã€‚
4. **æäº¤ Pull Requestï¼ˆPRï¼‰** âœ è¯¦ç»†æè¿°æ‚¨çš„æ›´æ”¹å†…å®¹ï¼Œå¹¶å…³è”ç›¸å…³ issueï¼ˆå¦‚æœ‰ï¼‰ã€‚
5. **ç­‰å¾…å®¡æ ¸** âœ ç»´æŠ¤è€…ä¼šè¿›è¡Œä»£ç å®¡æ ¸å¹¶åˆå¹¶ã€‚

ä»¥ä¸Šè®²è§£å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å¦¨ç»™æˆ‘çš„é¡¹ç›®ç‚¹ä¸ªå°å°çš„ star ğŸŒŸï¼Œæˆä¸ºä¸€ä¸‹æˆ‘çš„ç²¾ç¥è‚¡ä¸œå‘¢

### ğŸ‰ æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼

æ‚¨çš„æ¯ä¸€ä»½è´¡çŒ®éƒ½è®© **fish-island** å˜å¾—æ›´å¥½ï¼ğŸ’ª



